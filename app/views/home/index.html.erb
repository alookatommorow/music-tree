<div class="debug home-container" ng-controller="MusicController as music">
    <div class="debug" ng-controller="SearchController as searchCtrl">
        <div class="debug text-center">

            <form class="debug search-form" name="searchForm" ng-submit="searchCtrl.submit()">
                <input placeholder="Enter search..." ng-model="searchCtrl.query"  required>
                <select ng-model="searchCtrl.specs">
                    <option disabled selected> -- select an option -- </option>
                    <option value="artist">Artist</option>
                    <option value="release_title">Album</option>
                    <option value="label">Label</option>
                </select>
                <input type="submit" value="Search">
            </form>
        </div>

        <ul  ng-repeat="result in searchCtrl.results" ng-controller="ResultsController as resultsCtrl">
            <div>
                    <li class="debug result-item">
                        <img src="{{result.thumb}}">
                        <p class="result-title">{{result.title}}</p>
                        <form class="pull-right details-button"  ng-submit="resultsCtrl.submit()">
                            <input ng-model="resultsCtrl.query" placeholder="{{result.id}}">
                            <input ng-click="resultsCtrl.selectResult($index)" type="submit" value="Get Details">
                        </form>
                        <p class="pull-right">{{result.type | type}}</p>
                    </li>
                    <div class="debug" ng-show="resultsCtrl.isSelected($index)">
                        <ul ng-repeat="result in resultsCtrl.results | orderBy: '+year'">
                            <li class="debug result-item">
                                <p class="result-title">{{result.title}}</p>
                                <p class="result-title">{{result.year}}</p>
                            </li>
                        </ul>
                    </div>
            </div>
        </ul>
    </div>

</div>
